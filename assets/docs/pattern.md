```pyramid
 - DevOps
   - 文化建设：组织文化、组织架构转型
   - 需求、设计、研发、运营：流程规范
   - 需求分析、代码开发、自动化测试、部署运维：技术实践
   - 项目管理、研发管理、测试管理、部署管理、监控分析：工具支撑
```

# 核心：价值驱动

数字化技术（信息技术）的本质目的是创造价值，它的载体是软件，提供价值的是功能特性。越早发布功能特性，便能越快创造价值。采用逐渐增加功能特定的增量式开发方法，能让我们在最等时间内开发出最小可用（MVP）产品。

围绕它周围的优秀技术实践，可以让我们开发出运行良好的软件，并且设计也是好的。这个过程需要自上而下的为之付诸行动。

```pyramid
 - 寻找价值
   - 价值：、
   - 质量：零缺陷、设计良好
   - 划分：小、完整
   - 构建：价值优先、逐渐完善产品
   - 计划：持续、接下来做什么？
   - 组织：团队、人员与技能
   - 指导：何物、何时
```

源自 Ron Jeffries 的《软件开发本质论》

## 度量

度量是什么？

- 度量是在一个特定组织上下文中形成的一系列共识。
- 度量是将经验模型向量化模型进行匹配的尝试。
- 度量是包含人、流程、组织和工具的一个动态系统。

度量不是什么？

- 度量不是软件开发固有的活动。
- 度量应该避免跟绩效直接相关。
- 度量不是免费的。

### 度量框架

来源《精益软件度量：实践者的观察与思考》。

```mindmap
 - 持续改进
  - 价值
    - 价值命中率
      - 识别和拆分高价值特性
      - 反馈提升价值
      - 减少没发挥价值的特性
      - 交付价值的度量
    - 满意度
  - 效率
    - 响应速度
      - 响应时间的系统因素
      - 价值流图分析
      - 累积流图
      - 库存类指标
    - 团队产能
      - 度量产能
      - 提高系统效率
  - 质量
    - 内部质量
      - 技术债的度量
      - 开发节奏
      - 测试代码中的技术债
      - 度量呈现
    - 外部质量
      - 度量产品质量
      - 提升开发过程质量
  - 能力
    - 个人
      - 技术
      - 主动
      - 社交
    - 团队
    - 组织
      - 创造持续学习的机会
      - 促进探寻和对话活动
      - 鼓励协作和团队学习
      - 使人们能够寻求共同愿景
      - 连接组织与其所处的环境
      - 建立捕获和共享学习的系统
      - 为持续学习提供战略层面的领导力量
      - 阻碍因素
```

目标：

1.  减少浪费 & JIT
2.  质量内嵌
3.  学习型组织

# 模式：流畅度模型

![数字化流畅度模型](assets/images/mdb.svg '数字化流畅度模型')

based on: MDB & [https://martinfowler.com/articles/agileFluency.html](https://martinfowler.com/articles/agileFluency.html)

![DevOps流畅度模型](assets/images/devops-fluency.svg 'DevOps 流畅度模型')

### 敏捷实例化

来自（《深入核心的敏捷开发》）

```process-table
| 启动 | 专家 | 高绩效 |
|-|-|-|
| 目标：按照敏捷的方式运作起来 | 目标：根据实际情况优化实践，完善各角色能力 | 目标：高绩效的自组织团队 |
| 1. 理解 Agile、Scrum、Kanban 基础知识 | 1. 开始讨论不适合团队的实践 | 1. 团队追求成效而非输出 |
| 2. 跟随或者照搬敏捷实践 | 2. 理解实践背后的原则和价值观 | 打破 Scrum/Kanban 等规则，形成团队自己的规则  |
| 3. 敏捷流程中的环节采用和保持 | 3. 各个成员成形成一个高效整体持续改进，而不是独立个体 | 3. 自我探索过程中不遵守指令或者既定流程 |
| 4. 各个角色明确职责以及能力要求 | 4. 尝试打破 Scrum/Kanban 等流程的规则  | 4. 持续的以团队为中心思考和改进 |
| 指标：过程性指标，比如迭代完成率； 一些 yes or no 的判断，比如可视化、story 的 Invest 原则 ，PO、BA 等角色是否 assign 等 | 指标：过程性指标，比如 C/相关指标，质量相关指标；部分结果指标，比如 cycle time、product incident 等 | 指标：结果性指标，来衡量响应力、质量和交付价值|
```

| 区域 | 阶段     | 成效                                   | 借鉴                                            | 典型投资                         | 时长               |
| ---- | -------- | -------------------------------------- | ----------------------------------------------- | -------------------------------- | ------------------ |
| 专注 | 引入改变 | 对团队工作更好的可见性；调整方向的能力 | 团队的发展，工作流程的设计                      | Scrum, Kanban, 非技术的 XP 实践  | 3 - 6 个月         |
| 执行 | 掌握实践 | 低缺陷和高生产率                       | 技术技能学习期间的生产率变低                    | XP, DevOps 运动                  | 6 - 18 个月        |
| 优化 | 消除约束 | 更高价值的交付，更好的产品决策         | 将业务决策与专业技能转移给团队所花费的社交资本. | 精益软件开发，精益创业，超越预算 | +1-3 年            |
| 强化 | 强化整体 | 跨团队学习，更好的组织决策             | 发展组织管理的新方式的时间及风险                | 组织设计，复杂性理论             | 迭代改进，持续进行 |

### MDB

| 区域 | 阶段     | 组织转变 | 转变                                                                                         | 成效                                                                                                                    | 典型投资（示例）                                   | 时长               |
| ---- | -------- | -------- | -------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------- | ------------------ |
| 专注 | 引入改变 | 组织文化 | 面向客户价值进行衡量和决策…...从而产生转变业务战略的需要。                                   | 透明和协作带来更好的跨职能决策机制，资源能够向更高价值的工作聚焦。                                                      | 精益原则，IT、运维与业务的协作                     | 3 - 6 个月         |
| 执行 | 掌握实践 | 组织职能 | 企业级流程、实践、技术和工具，与客户价值交付相一致。                                         | 产品/服务周期时间缩短，部署更多数字服务（例如 IoT）能力的增强。频繁变更并快速获取数据的能力，促成更具适应性的商业模式。 | 设计思维、数据战略、人才招聘、技术战略和路线图     | 6 - 18 个月        |
| 优化 | 消除约束 | 组织结构 | 关键业务能力投放在最需要的地方，模糊性和自主性影响领导力风格。                               | 价值交付的速度和技术采用的简便性带来了更高的回报，高价值的新业务模式逐步浮现。                                          | 适应性领导力、产品专业知识、适应性架构、开发者体验 | +1-3 年            |
| 强化 | 强化整体 | 组织节奏 | 新的工作方式变得制度化，但组织的迭代和持续演进成为新常态。规划通过数据自动流转、测试和验证。 | 创新和产品卓越重塑市场，形成独特的收入模式。组织在各个方面的高响应力成为其核心能力，创造出亲密的客户互动。              | 平台商业模式、实验文化、智能生态                   | 迭代改进，持续进行 |

# 持续改进

## 演进式架构

源自《演进式架构》

> 演进式架构以支持增量的、非破坏的变更作为第一原则，同时支持在应用程序结构层面的多维度变化。

- **增量变更**。如何增量地构建软件和如何部署软件。
- **适应度函数**。架构的适应度函数为某些架构特征提供了客观的完整性评估。
- **适当的耦合**。如何确定哪些架构维度间应该相互耦合，以最小的开销和成本最大程度地获益。

常见的多个架构维度：

- 技术。架构中的实现部分：框架、依赖的库和实现语言。
- 数据。数据模式、表格布局、优化计划等。通常由数据库管理员（DBA）处理这类架构。
- 安全。定义安全策略、指导方针和指定工具来帮助发布缺陷。
- 运维与系统。关注架构如何映射到现有的物理或虚拟的技术设施中，包括服务器、机器集群、交换机、云等。

### 适应度函数

> 适应度函数是一种特定类型的目标函数，用于总结作为单个品质因数的给定设计解决方案与实现设定目标的接近程度。适应度函数用于遗传编程和遗传算法，以指导模拟向最优设计解决方案。 —— 维基百科

```radar
 - 架构适应度函数
  - 可审计性
  - 可配置性
  - 数据安全
  - 高可用性
  - 高吞吐量
  - 国际化
  - 法规要求
  - 低延迟
  - 可监控性
  - 可用性
```

分支

- **依赖漂移适应度函数**是一项引入了特定的演进式架构适应度函数的技术，它能随着时间推移追踪这些依赖，从而能够指出可能需要的工作，以及某个潜在问题是在好转还是恶化。

### 适应度函数驱动编程

来源：[Fitness function-driven development](https://www.thoughtworks.com/insights/articles/fitness-function-driven-development)

```mindmap
 - 架构适应度函数
     - 代码质量
       - 可修改性
       - 可管理性
       - 可适应性
     - 弹性
       - 稳定性
       - 弹性
       - 可用性
     - 可观察性
       - 可调试性
       - 可审计性
     - 性能
       - 可缩放性
       - 稳定性
     - 合规
       - 可审计性
     - 安全
       - 安全性
     - 可操作性
       - 可管理性
       - 可操作性
       - 可恢复性
```

## 缩短反馈

- 迭代
- 回顾会议
- Kanban
- 站会
- TDD
- 测试

# 能力：学习型组织

## DLOQ 模型

```process-step
 - 个人层面
   - 创造持续学习的机会
   - 促进探寻和对话活动
   - 鼓励协作和团队学习
   - 使人们能够寻找共同愿景
 - 结构层面
   - 联系组织与其所处的环境
   - 建立捕获和共享学习的系统
   - 为持续学习提供战略层面的领导能力
 - -
   - 获取组织性知识
   - 提升组织的财务业绩
```

## 个人能力

源自张松的《精益软件度量：实践者的观察与思考》

```mindmap
 - 个人能力
   - 技能能力：解决问题，并完成。
     - 代码
     - 设计
     - 质量
     - 业务
     - 管理
     - ……
   - 主动能力：产生想法，并实现。
     - 自主启动
     - 前瞻性方式
     - 坚持
   - 社交能力，协作过程中的能力。
     - 示例：发展他人
       - 偶然帮助身边的同事
       - 有计划、有目标地辅导团队成员
       - 设计、实施培训和辅导活动
       - 把培训和辅导活动延伸到团队之外
       - 把培训和辅导活动延伸到之外
```

ThoughtWorks Tech Lead 模型

示例见：[https://phodal.github.io/tla/](https://phodal.github.io/tla/)

```radar
 - Tech Lead Assessment
   - Emotional Intelligence
   - Influencing
   - Actively develops others
   - Uses effective facilitation
   - Actively builds team
   - Active risk management
   - Open communication
   - Good coding skills
   - Experience in full stack
   - Pattern aware
   - Current knowledge of codebase
   - Continuous improvement
   - Clarity of problem
   - Business value focused
   - Communication bridge
   - Architectural vision
   - Focus on principles
   - Systems, not software
   - Champions Cross-Functional Requirements
   - Future thinking
```

## 团队技能图谱

```radar
 - 团队技能图谱示例
  - Ruby: 3
  - Rake: 2
  - Gem/Bundler: 1
  - Java: 3
  - Git: 4
  - Redis: 2
  - Splunk: 5
  - GNU/Linux OS: 1
  - Jenkins: 3
  - Chef: 3
```

# 度量模型

[成熟度模型](https://martinfowler.com/bliki/MaturityModel.html) 是一种工具，可以帮助人们评估行为、实践和流程在**产生预期结果**方面的有效性。该模型定义了一系列的结构化级别，这些级别可以让组织沿着更系统地组织和成熟的流程的道路前进。

成熟度模型所针对的都不是简单的问题和行动，而是一系列复杂的流程与行为。

## 成熟度模型

1. 初始（Initial）（混乱，临时，个人英雄） —— 开始使用一个新的或无记录的重复过程。
2. 可重复（Repeatable） —— 至少充分记录了该过程，以便可以尝试重复相同的步骤。
3. 已定义（Defined） —— 将流程定义/确认为标准业务流程
4. 有能力（Managed (Capable)） —— 根据商定的指标对流程进行量化管理。
5. 高效（Optimizing (Efficient)） —— 流程管理包括深思熟虑的流程优化/改进。

GitHub 解释版：

- 临时（Ad-hoc） —— 新的或未记录的过程是不受控制、反应性的和不可预测的，通常是由个人驱动而没有协调或沟通。成功取决于个人英雄主义。
- 管理（Managed）—— 流程已部分记录在案，有可能导致一致的结果。成功取决于纪律。
- 已定义（Defined）—— 记录，标准化流程并将其集成到其他流程中。成功取决于自动化。
- 度量（Measured）—— 对过程进行定量管理。成功取决于根据业务目标衡量指标。
- 已优化（Optimized）—— 通过增量和创新更改，该过程正在持续可靠地得到改善。 成功取决于减少变革的风险。

## 技能模型

出自：[Dreyfus 技能模型](https://en.wikipedia.org/wiki/Dreyfus_model_of_skill_acquisition)

- Novice（新手）：需要指令才能工作。
- Advanced Beginner（高级初学者）：不愿全盘思考。
- Practitioner（从业者）：能解决问题。
- Proficient（精通）
- Expert（专家）：凭直觉做事

# 云研发

未来的软件开发模型（《[云研发：研发即代码](https://github.com/phodal/cloud-dev)》）

```process-step
 - 需求
   - 需求明确
   - 实例化需求
   - 需求代码化
   - 域语言描述需求
 - 设计
   - 设计系统化
   - 设计模式化
   - 代码化设计
   - 代码领域化
 - 代码
   - 开发模式化
   - 代码领域化
   - 需求生成代码
   - 代码化代码
 - 构建
   - 持续构建
   - 构建自动化
   - 构建代码化
   - 构建构建化
 - 部署
   - 部署自动化
   - 提交即上线
   - 部署代码化
   - 部署自治
 - 运营
   - 运营可视化
   - 运营中心化
   - 代码化运营
   - 运营需求化
```

### 核心：架构金字塔

![Architecture Level](https://phodal.github.io/trusted/images/architecture-level.jpg '架构金字塔')

出自：《[架构金字塔](https://www.phodal.com/blog/architecture-pyramid/)》

## Architecture Dashboard
